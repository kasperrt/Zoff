Options +FollowSymLinks
RewriteEngine on
RewriteBase /
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%1/$1 [L]

RewriteCond %{HTTP_HOST} ^(.*zoff.me.*)$
RewriteCond %{HTTPS} !=on
RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [L]

RewriteCond %{HTTP_HOST} ^remote.zoff.me
RewriteCond %{REQUEST_URI} !/public/css
RewriteCond %{REQUEST_URI} !/public/js
RewriteCond %{REQUEST_URI} !/public/dist
RewriteCond %{REQUEST_URI} !/public/images
RewriteCond %{REQUEST_URI} !/public/font
RewriteRule ^(.*)$ public/php/controller.php [L,NC,QSA]

RewriteCond %{HTTP_HOST} ^bot.zoff.me

RewriteRule ^(.*)$ /public/php/bot.php [L,NC,QSA]

RewriteCond %{HTTP_HOST} ^zoff.me
RewriteCond %{REQUEST_URI} /o_callback
RewriteRule ^(.*)$ public/html/callback.html [L,NC,QSA]

RewriteCond %{HTTP_HOST} ^zoff.me
RewriteCond %{REQUEST_URI} /_embed
RewriteRule ^(.*)$ public/html/embed.html [L,NC,QSA]

RewriteCond %{HTTP_HOST} ^localhost
RewriteCond %{REQUEST_URI} /o_callback
RewriteRule ^(.*)$ /public/html/callback.html [L,NC,QSA]

RewriteCond %{HTTP_HOST} ^localhost
RewriteCond %{REQUEST_URI} /_embed
RewriteRule ^(.*)$ /public/html/embed.html [L,NC,QSA]

#RewriteRule (?i)^remote/(.*) /public/php/controller.php?id=$1 [L]
#RewriteRule (?i)^remote /public/php/controller.php [L]

RewriteCond %{REQUEST_URI} !(/$|\.)
RewriteRule (.*) %{REQUEST_URI}/ [R=301,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule /(.*)$ /$1 [L]

Options -Indexes
